{"version":3,"file":"static/js/765.7e31f75b.chunk.js","mappings":"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","sources":["components/MovieError/MovieError.styled.js","components/MovieError/MovieError.jsx","components/SearchMoviesList/SearchMoviesList.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/Movies.js","services/api.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const StyledMovieError = styled.h2`\ntext-align: center;\nmargin: 0 auto;\ncolor: ${({ theme }) => theme.colors.errorColor};\n`;\n","import { StyledMovieError } from './MovieError.styled';\n\nexport const MovieError = ({ message }) => {\n  return <StyledMovieError> {message}</StyledMovieError>;\n};\n","import { useLocation } from 'react-router-dom';\n\nimport {\n  MovieItem,\n  MovieList,\n  MovieThumb,\n  MovieTitle,\n  MovieItemLink,\n} from 'components/SharedLayout/SharedLayout.styled';\n\nimport noImage from '../../images/no-image.jpg';\n\nexport const SearchMoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500/';\n\n  return (\n    <MovieList>\n      {movies.map(({ id, poster_path, title }) => (\n        <MovieItem key={id}>\n          <MovieItemLink to={`${id}`} state={{ from: location }}>\n            <MovieThumb>\n              <img\n                src={poster_path ? IMAGE_BASE_URL + poster_path : noImage}\n                alt={title}\n                loading=\"lazy\"\n              />\n            </MovieThumb>\n            <MovieTitle>{title}</MovieTitle>\n          </MovieItemLink>\n        </MovieItem>\n      ))}\n    </MovieList>\n  );\n};\n","import styled from \"styled-components\";\nimport { Button } from \"components/SharedLayout/SharedLayout.styled\";\n\nexport const StyledForm = styled.form`\ndisplay: flex;\njustify-content: center;\nmargin-bottom: ${({ theme }) => theme.spacing(5)};\ngap: ${({ theme }) => theme.spacing(2)};\n`;\n\nexport const StyledInput = styled.input`\npadding: 8px 16px;\nborder: ${({ theme }) => `1px solid ${theme.colors.borderInputColor}`};\nborder-radius: ${({ theme }) => theme.spacing(2)};\ntransition-property: border;\ntransition: ${({ theme }) => `border ${theme.transition}`};\n\n:focus {\noutline: none;\nborder: ${({ theme }) => `1px solid ${theme.colors.accent}`};\n}\n`;\n\nexport const StyledButton = styled(Button)`\nmax-width: 152px;\npadding: 8px 32px;\nfont-weight: 500;\n`;\n","import { Notify } from 'notiflix';\nimport { useState } from 'react';\n\nimport { StyledButton, StyledForm, StyledInput } from './SearchForm.styled';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    const { value } = e.target;\n    setQuery(value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (query.trim() === '') {\n      return Notify.info('Please, fill in the search field!');\n    }\n    onSubmit(query);\n    reset();\n  };\n\n  const reset = () => {\n    setQuery('');\n  };\n\n  return (\n    <StyledForm onSubmit={handleSubmit}>\n      <StyledInput\n        type=\"text\"\n        name=\"movieTitle\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={query}\n        onChange={handleChange}\n      />\n      <StyledButton type=\"submit\">Search</StyledButton>\n    </StyledForm>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { nanoid } from 'nanoid';\nimport { getSearchMovies } from '../services/api';\n\nimport { Section, Container } from 'components/App/App.styled';\n\nimport { SearchMoviesList } from 'components/SearchMoviesList';\nimport { SearchForm } from 'components/SearchForm';\nimport { MovieError } from 'components/MovieError';\nimport { Loader } from 'components/Loader';\n\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [reqId, setReqId] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const movieTitle = searchParams.get('movieTitle') ?? '';\n\n  useEffect(() => {\n    if (!movieTitle) return;\n\n    async function saveSearchMovies() {\n      try {\n        setIsLoading(true);\n        setError(null);\n        const data = await getSearchMovies(movieTitle);\n        setMovies(data.results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    } saveSearchMovies();\n  }, [movieTitle, reqId]);\n\n  const handleSubmit = newValue => {\n    setSearchParams({ movieTitle: newValue });\n    setReqId(nanoid());\n    setMovies([]);\n    setError(null);\n  };\n\n  return (\n    <Section>\n      <Container>\n        <SearchForm onSubmit={handleSubmit} />\n\n        {error && (\n          <MovieError\n            message={`Sorry, but the ${movieTitle} was not found. Please try again later!`}\n          />\n        )}\n\n        {isLoading && <Loader />}\n\n        <SearchMoviesList movies={movies} />\n      </Container>\n    </Section>\n  );\n}\n\nexport default Movies;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = '3b3588da04245c6a18fc17ccb8868599';\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return data;\n}\n\nexport const getSearchMovies = async (query, page = 1) => {\n  const { data } = await axios.get(`/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`);\n  return data;\n}\n\nexport const getMovieDetails = async (id) => {\n  const { data } = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n  return data;\n}\n\nexport const getMovieCast = async (id) => {\n  const { data } = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n  return data;\n}\n\nexport const getMovieReviews = async (id) => {\n  const { data } = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n  console.log(data);\n  return data;\n}\n"],"names":["StyledMovieError","styled","theme","colors","errorColor","MovieError","message","SearchMoviesList","movies","location","useLocation","map","id","poster_path","title","to","state","from","src","noImage","alt","loading","StyledForm","spacing","StyledInput","borderInputColor","transition","accent","StyledButton","Button","SearchForm","onSubmit","useState","query","setQuery","reset","e","preventDefault","trim","Notify","type","name","autoComplete","autoFocus","placeholder","value","onChange","target","toLowerCase","setMovies","isLoading","setIsLoading","error","setError","reqId","setReqId","useSearchParams","searchParams","setSearchParams","movieTitle","get","useEffect","getSearchMovies","data","results","saveSearchMovies","newValue","nanoid","Loader","axios","API_KEY","getTrendingMovies","page","getMovieDetails","getMovieCast","getMovieReviews","console","log"],"sourceRoot":""}